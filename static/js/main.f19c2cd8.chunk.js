(this.webpackJsonpdepremdeiz=this.webpackJsonpdepremdeiz||[]).push([[0],{429:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(42),i=n.n(c),l=n(32),s=n.n(l),o=n(43),u=n(186),j=n.n(u),d=n(94),b=n(8),h=(n(126),b.a.initializeApp({apiKey:"AIzaSyDvT06eiA96XqF5S9ajMkRTXEKtmnbLlEk",authDomain:"depremdeiz-63181.firebaseapp.com",databaseURL:"https://depremdeiz-63181-default-rtdb.europe-west1.firebasedatabase.app",projectId:"depremdeiz-63181",storageBucket:"depremdeiz-63181.appspot.com",messagingSenderId:"388545987002",appId:"1:388545987002:web:2869c8934027a88a499d83"})),m=h,p=h.auth(),O=n(14),f=n(3);var x=n(16),v=r.a.createContext();function g(){return Object(a.useContext)(v)}function k(e){var t=e.children,n=m.database(),r=Object(a.useState)(),c=Object(O.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)(),j=Object(O.a)(u,2),d=j[0],b=j[1];Object(a.useEffect)((function(){console.log(i)}),[]),p.onAuthStateChanged((function(e){console.log(e)}));var h={tcNumber:i,getUserTcNo:function(e){n.ref("Profil").once("value",function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.forEach((function(t){t.key;var n=t.val();n.email==e&&(b(n),l(n.tc_kimlikNo))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},currentUser:d};return Object(f.jsx)(v.Provider,{value:h,children:t})}var y=n(121),N=n.n(y),_={signInFlow:"popup",signInOptions:[d.a.auth.GoogleAuthProvider.PROVIDER_ID,d.a.auth.FacebookAuthProvider.PROVIDER_ID]},C=m.database();var L=function(){var e=g().getUserTcNo,t=Object(x.k)();return p.onAuthStateChanged((function(n){null==n||function(n){var a=C.ref("Profil"),r=!1;a.once("value",function(){var a=Object(o.a)(s.a.mark((function a(c){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c.forEach((function(t){t.key;var a=t.val();console.log(a.email),a.email==n&&(e(a.email),r=!0)})),r?t.push("/home"):t.push("/tcNumber");case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}(n.email),console.log(n)})),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{uiConfig:_,firebaseAuth:d.a.auth()}),Object(f.jsx)(N.a,{type:"Oval",color:"#ff7777",height:80,width:80,timeout:1e3,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})]})},D=n(26),S=n(52);var P=function(e){return Object(f.jsxs)("div",{className:"help",children:[Object(f.jsx)("h1",{children:e.item.currentDate}),e.item.helpList.map((function(e,t){return Object(f.jsx)("h1",{children:JSON.stringify(e.demandName)},t)})),Object(f.jsx)("div",{children:e.item.isCompletelyProvided?Object(f.jsx)("h1",{children:"Tamamen Kar\u015f\u0131land\u0131>"}):Object(f.jsx)("h1",{children:"Kar\u015f\u0131lanmad\u0131"})})]})},w=m.database();var E=function(){var e=g().tcNumber,t=Object(a.useState)([]),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){w.ref("Help/"+e).once("value",function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){var t=e.val();console.log(t),c((function(e){return[].concat(Object(S.a)(e),[t])}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:0==r.length?Object(f.jsx)("h2",{children:"Hen\xfcz hi\xe7 yard\u0131m talebinde bulunmad\u0131n\u0131z."}):Object(f.jsx)("h7",{children:" "})}),r.map((function(e,t){return Object(f.jsx)(P,{item:e},t)}))]})};var z=function(e){var t=Object(x.k)();return Object(f.jsxs)("div",{className:"help",onClick:function(n){t.push({pathname:"/help/meetotherhelp",helpKey:e.helpKey,helpItem:e.item})},children:[Object(f.jsx)("h1",{style:{color:"purple"},children:e.item.currentDate}),e.item.helpList.map((function(e,t){return Object(f.jsx)("h1",{style:e.isProvided?{color:"green"}:{color:"red"},children:e.demandName},t)})),Object(f.jsxs)("h1",{children:["Yard\u0131m talebinde bulunan: ",e.item.isim]})]})},R=m.database();var I=function(){var e=g().tcNumber,t=Object(a.useState)([]),n=Object(O.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),l=Object(O.a)(i,2),u=l[0],j=l[1];return Object(a.useEffect)((function(){R.ref("Help").once("value",function(){var t=Object(o.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.forEach((function(t){var n=t.val();Object.keys(n).forEach((function(t){n[t].tc_kimlikNo!==e&&(console.log(t),j((function(e){return[].concat(Object(S.a)(e),[t])})),c((function(e){return[].concat(Object(S.a)(e),[n[t]])})))}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(f.jsx)(f.Fragment,{children:r.map((function(e,t){return Object(f.jsx)(z,{helpKey:u[t],item:e},t)}))})},T=n(433),B=n(435),Y=n(46);var K=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(T.a,{bg:"dark",variant:"dark",children:Object(f.jsxs)(B.a,{className:"mr-auto",children:[Object(f.jsx)(Y.LinkContainer,{to:"/help/createhelp",children:Object(f.jsx)(B.a.Link,{children:"Yard\u0131m Talebi Olu\u015ftur"})}),Object(f.jsx)(Y.LinkContainer,{to:"/help/myhelps",children:Object(f.jsx)(B.a.Link,{children:"Yard\u0131m Taleplerin"})}),Object(f.jsx)(Y.LinkContainer,{to:"/help/otherhelps",children:Object(f.jsx)(B.a.Link,{children:"Ba\u015fkalar\u0131n\u0131n Yard\u0131m Talepleri"})})]})})})};var G=function(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{name:"title",onChange:function(e){c(e.target.value)},value:r,placeholder:"Yard\u0131m istedi\u011finiz malzemeyi yaz\u0131n"}),Object(f.jsx)("button",{onClick:function(t){e.onAdd(r),c(""),t.preventDefault()},children:"Ekle"})]})})};var M=function(e){return Object(f.jsx)("div",{className:"help",children:Object(f.jsx)("h1",{children:e.title})})},A=m.database();var F=function(){var e=g(),t=(e.getUserTcNo,e.tcNumber),n=e.currentUser,r=Object(a.useState)([]),c=Object(O.a)(r,2),i=c[0],l=c[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(G,{onAdd:function(e){l((function(t){return[].concat(Object(S.a)(t),[e])}))}}),i.map((function(e,t){return Object(f.jsx)(M,{title:e},t)}))]}),Object(f.jsx)("button",{className:"submitButton",onClick:function(){var e,a=A.ref("Help/"+t).push(),r=function(){var e=new Date;return e.getDate()+"-"+(e.getMonth()+1)+"-"+ +e.getFullYear()+" "+e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}(),c=[];for(e in i)c.push({demandName:i[e],isProvided:!1,providedDate:""});a.set({tc_kimlikNo:t,currentDate:r,isCompletelyProvided:!1,isim:n.isim,user_uid:n.user_uid,helpList:c}),alert("Yard\u0131m talebiniz g\xf6nderildi.")},children:"Yard\u0131m Talebinde Bulun"})]})},H=n(434);var U=n(431),V=n(432),W=m.database();var X=function(e){var t,n=Object(a.useState)(0),r=Object(O.a)(n,2),c=r[0],i=r[1],l=g().tcNumber,s=Object(x.l)(),o=Object(x.k)(),u=s.helpItem.helpList;if(0==c)for(t=0;t<u.length;t++)u[t].isProvided?u[t].canBeEditable=!1:u[t].canBeEditable=!0,console.log(u[t]);var j="checkbox";function d(e){u[e.target.name].isProvided=e.target.checked,i(c+1)}function b(){var e=new Date;return e.getDate()+"-"+(e.getMonth()+1)+"-"+ +e.getFullYear()+" "+e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(U.a,{className:"d-flex-align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(f.jsx)("div",{className:"w-100",style:{maxWidth:"600px"},children:Object(f.jsx)("div",{children:Object(f.jsxs)(H.a,{onSubmit:function(e){e.preventDefault();var t,n=[];for(t=0;t<s.helpItem.helpList.length;t++){var a=s.helpItem.helpList[t];console.log(a),s.helpItem.helpList[t].isProvided&&s.helpItem.helpList[t].canBeEditable&&(a.providedDate=b(),a.providedPersonTcNumber=l),delete u[t].canBeEditable,n.push(a)}var r=s.helpItem.userToken;null==r&&(r=""),W.ref("Help/"+s.helpItem.tc_kimlikNo+"/"+s.helpKey).set({currentDate:s.helpItem.currentDate,isCompletelyProvided:!1,isim:s.helpItem.isim,tc_kimlikNo:s.helpItem.tc_kimlikNo,userToken:r,user_uid:s.helpItem.user_uid,helpList:n}),alert("Yard\u0131mda bulunaca\u011f\u0131n\u0131z ki\u015fiye bilgilerinizi bildirim ile g\xf6nderdik. Sizinle irtibata ge\xe7mesi i\xe7in bekleyiniz."),o.push("/help/otherhelps")},children:[u.map((function(e,t){return Object(f.jsx)(H.a.Check,{name:t,onChange:d,type:j,id:"default-".concat(j),label:e.canBeEditable?e.demandName:e.demandName+"  (Kar\u015f\u0131land\u0131)",checked:e.isProvided,disabled:!e.canBeEditable},t)})),Object(f.jsx)(V.a,{className:"w-200",type:"submit",children:"Yard\u0131m Et"})]})})})})})},q=m.database();var J=function(){return Object(a.useEffect)((function(){q.ref("Help").on("value",(function(e){var t=e.val();console.log(t)}))})),Object(f.jsx)("div",{children:Object(f.jsxs)(D.BrowserRouter,{children:[Object(f.jsx)(K,{}),Object(f.jsxs)(x.g,{children:[Object(f.jsx)(x.d,{path:"/help/myhelps",component:E}),Object(f.jsx)(x.d,{path:"/help/otherhelps",component:I}),Object(f.jsx)(x.d,{path:"/help/createHelp",component:F}),Object(f.jsx)(x.d,{path:"/help/meetotherhelp",component:X})]})]})})},Z=n(436),Q=m.database();var $=function(){var e=g(),t=e.tcNumber,n=e.currentUser,r=e.getUserTcNo,c=Object(a.useState)(n.telefon_no),i=Object(O.a)(c,2),l=i[0],s=i[1],o=Object(a.useState)(n.yak\u0131n_kisi_tel_no),u=Object(O.a)(o,2),j=u[0],d=u[1],b=Object(a.useState)(n.ikinci_yak\u0131n_kisi_tel_no),h=Object(O.a)(b,2),m=h[0],v=h[1],k=Object(a.useRef)(),y=Object(a.useRef)(),N=Object(a.useRef)(),_=Object(a.useRef)(),C=Object(a.useRef)(),L=Object(a.useRef)(),D=Object(a.useRef)(),S=Object(x.k)();function P(e){"myPhone"===e.target.name?s(e.target.value):"firstRelativePhone"===e.target.name?d(e.target.value):"secondRelativePhone"===e.target.name&&v(e.target.value)}function w(e){if(8===e.keyCode);else{var t=function(e){var t="(";return e.replace(/^\D*(\d{0,3})\D*(\d{0,3})\D*(\d{0,2})\D*(\d{0,1})/,(function(e,n,a,r,c){n.length&&(t+=n,3==n.length&&(t+=")",a.length&&(t+=" "+a,3==a.length&&(t+=" ",r.length&&(t+=r,c.length&&(t+=" "+c))))))})),t}(e.target.value);"myPhone"===e.target.name?s(t):"firstRelativePhone"===e.target.name?d(t):"secondRelativePhone"===e.target.name&&v(t)}}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(Z.a,{children:[Object(f.jsxs)(Z.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Profilim"}),Object(f.jsxs)(H.a,{onSubmit:function(e){e.preventDefault();var a=n.user_token;null==n.user_token&&(a=""),15==N.current.value.length&&15==C.current.value.length&&15==D.current.value.length?(Q.ref("Profil/"+t).set({tc_kimlikNo:t,email:n.email,isim:k.current.value,soyad:y.current.value,telefon_no:N.current.value,"yak\u0131n_kisi_isim":_.current.value,"yak\u0131n_kisi_tel_no":C.current.value,"ikinci_yak\u0131n_kisi_isim":L.current.value,"ikinci_yak\u0131n_kisi_tel_no":D.current.value,user_token:a,user_uid:n.user_uid}),r(n.email),alert("Profil ba\u015far\u0131yla g\xfcncellendi")):alert("L\xfctfen gerekli t\xfcm telefon numaras\u0131 alanlar\u0131n\u0131 doldurun.")},children:[Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"T.C. Kimlik No:"}),Object(f.jsx)(H.a.Control,{disabled:!0,value:n.tc_kimlikNo})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"Email:"}),Object(f.jsx)(H.a.Control,{disabled:!0,value:n.email})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"\u0130sim:"}),Object(f.jsx)(H.a.Control,{defaultValue:n.isim,ref:k})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"Soyad:"}),Object(f.jsx)(H.a.Control,{defaultValue:n.soyad,ref:y})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"Telefon Numaras\u0131:"}),Object(f.jsx)(H.a.Control,{onChange:P,onKeyDown:w,name:"myPhone",type:"tel",value:l,ref:N})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"1. Yak\u0131n ki\u015finin ismi:"}),Object(f.jsx)(H.a.Control,{defaultValue:n.yak\u0131n_kisi_isim,ref:_})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"1. Yak\u0131n ki\u015finin telefon numaras\u0131:"}),Object(f.jsx)(H.a.Control,{onChange:P,onKeyDown:w,name:"firstRelativePhone",type:"tel",value:j,ref:C})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"2. Yak\u0131n ki\u015finin ismi:"}),Object(f.jsx)(H.a.Control,{defaultValue:n.ikinci_yak\u0131n_kisi_isim,ref:L})]}),Object(f.jsxs)(H.a.Group,{children:[Object(f.jsx)(H.a.Label,{children:"2. Yak\u0131n ki\u015finin telefon numaras\u0131:"}),Object(f.jsx)(H.a.Control,{onChange:P,onKeyDown:w,name:"secondRelativePhone",type:"tel",value:m,ref:D})]}),Object(f.jsx)(V.a,{className:"w-100",type:"submit",children:"G\xfcncelle"})]})]}),Object(f.jsx)("div",{className:"text-center mb-4",children:Object(f.jsx)(V.a,{className:"text-center mb-4",onClick:function(){p.signOut().then((function(){S.push("/signup")})).catch((function(e){console.log("error")}))},children:"\xc7\u0131k\u0131\u015f Yap"})}),">"]})})},ee=n(67),te=Object(ee.withScriptjs)(Object(ee.withGoogleMap)((function(e){return Object(f.jsx)(ee.GoogleMap,{defaultZoom:e.zoom,defaultCenter:e.center,children:Object(f.jsx)(ee.Marker,{position:{lat:e.place.lat,lng:e.place.lng},draggable:!1})})})));var ne=function(){var e=Object(a.useState)({}),t=Object(O.a)(e,2),n=t[0],r=t[1],c=function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};r(t)};return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition(c)}),[]),Object(f.jsx)(te,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyDvT06eiA96XqF5S9ajMkRTXEKtmnbLlEk",loadingElement:Object(f.jsx)("div",{style:{height:"100%"}}),containerElement:Object(f.jsx)("div",{style:{height:"400px"}}),mapElement:Object(f.jsx)("div",{style:{height:"100%"}}),center:{lat:39.92077,lng:32.85411},zoom:10,place:n})};var ae=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)(T.a,{bg:"dark",variant:"dark",children:[Object(f.jsx)(T.a.Brand,{children:"Depremdeiz"}),Object(f.jsxs)(B.a,{className:"mr-auto",children:[Object(f.jsx)(Y.LinkContainer,{to:"/help",children:Object(f.jsx)(B.a.Link,{children:"Yard\u0131m"})}),Object(f.jsx)(Y.LinkContainer,{to:"/map",children:Object(f.jsx)(B.a.Link,{children:"Harita"})}),Object(f.jsx)(Y.LinkContainer,{to:"/profile",children:Object(f.jsx)(B.a.Link,{children:"Profil"})})]})]})})};var re=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)(D.BrowserRouter,{children:[Object(f.jsx)(ae,{}),Object(f.jsxs)(x.g,{children:[Object(f.jsx)(x.d,{exact:!0,path:"/help",component:J}),Object(f.jsx)(x.d,{path:"/map",component:ne}),Object(f.jsx)(x.d,{path:"/profile",component:$}),Object(f.jsx)(x.d,{path:"/signup",component:L})]})]})})},ce=n(125),ie=m.database();var le=function(){var e,t=Object(a.useState)(),n=Object(O.a)(t,2),r=n[0],c=n[1],i=Object(x.k)(),l=Object(a.useRef)();return p.onAuthStateChanged((function(e){null==e||c(e)})),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(U.a,{className:"d-flex-align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(f.jsx)("div",{className:"w-100",style:{maxWidth:"600px"},children:Object(f.jsxs)(Z.a,{children:[Object(f.jsx)(Z.a.Body,{children:Object(f.jsx)("h2",{className:"test-center mb-4",children:"Devam edebilmeniz i\xe7in T.C. Kimlik numaran\u0131z\u0131 girmelisiniz."})}),Object(f.jsxs)(H.a,{onSubmit:function(e){e.preventDefault();var t=l.current.value;ie.ref("Profil/"+t).set({tc_kimlikNo:Number(t),email:r.email,isim:r.displayName,user_uid:r.uid}),i.push("/home")},children:[Object(f.jsx)(H.a.Group,{id:"tcNumber",children:Object(f.jsx)(H.a.Control,{type:"number",ref:l,required:!0})}),Object(f.jsx)(V.a,(e={type:"submit",className:"w-100"},Object(ce.a)(e,"type","submit"),Object(ce.a)(e,"children","Devam et"),e))]})]})})})})};var se=function(){return Object(f.jsx)(k,{children:Object(f.jsx)(D.BrowserRouter,{children:Object(f.jsxs)(x.g,{children:[Object(f.jsx)(x.d,{exact:!0,path:"/Depremdeiz_WebUyg",component:L}),Object(f.jsx)(x.d,{path:"/signup",component:L}),Object(f.jsx)(x.d,{path:"/home",component:re}),Object(f.jsx)(x.d,{path:"/tcnumber",component:le}),Object(f.jsx)(x.d,{path:"/help",component:J})]})})})};n(428);i.a.render(Object(f.jsx)(D.BrowserRouter,{basename:"https://oyaer.github.io/Depremdeiz_WebUyg",children:Object(f.jsx)(se,{})}),document.getElementById("root"))}},[[429,1,2]]]);
//# sourceMappingURL=main.f19c2cd8.chunk.js.map